{"version":3,"sources":["RoadGame.js"],"names":["cc","Class","extends","Component","properties","isPlay","type","Boolean","speed","default","Integer","score","head1","Node","head2","head3","head4","scoreLabel","Label","logo","gameover","startButton","menuMusic","AudioSource","gameMusic","gameOverSound","kickSound","maleOhSound","femaleOhSound","onLoad","on","event","dropHead","currentTarget","bind","play","startGame","y","string","active","stop","update","dt","i","Math","floor","random","moveHead","head","gameEnd"],"mappings":"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","file":"RoadGame.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // прапорець - якщо true - граємл - інакше - пауза\r\n        isPlay: {\r\n            type: cc.Boolean\r\n        },\r\n        // швидкість ругу голів\r\n        speed: {\r\n            default: 2,\r\n            type: cc.Integer\r\n        },\r\n        // рахунок\r\n        score: {\r\n            default: 0,\r\n            type: cc.Integer\r\n        },\r\n        // голови\r\n        head1: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        head2: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        head3: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        head4: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        // тектова мітка ждя рахунку\r\n        scoreLabel: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n        // логотип\r\n        logo: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        // заставка кінця гри \r\n        gameover: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        // кнопка странту\r\n        startButton: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        // музика в меню\r\n        menuMusic: {\r\n            default: null,\r\n            type: cc.AudioSource\r\n        },\r\n        // музика у грі\r\n        gameMusic: {\r\n            default: null,\r\n            type: cc.AudioSource\r\n        },\r\n        // музика програшу\r\n        gameOverSound: {\r\n            default: null,\r\n            type: cc.AudioSource\r\n        },\r\n        // звук удару\r\n        kickSound: {\r\n            default: null,\r\n            type: cc.AudioSource\r\n        },\r\n        // крик чоловічий\r\n        maleOhSound: {\r\n            default: null,\r\n            type: cc.AudioSource\r\n        },\r\n        // зойк жіночий\r\n        femaleOhSound: {\r\n            default: null,\r\n            type: cc.AudioSource\r\n        },\r\n    },\r\n\r\n    // запускається на початку програми\r\n    onLoad: function () {\r\n        // додаємо рекцію всіх голів га клік мишки\r\n        this.head1.on('mousedown', function (event) {\r\n            this.dropHead(event.currentTarget);\r\n        }.bind(this));\r\n        this.head2.on('mousedown', function (event) {\r\n            this.dropHead(event.currentTarget);\r\n        }.bind(this));\r\n        this.head3.on('mousedown', function (event) {\r\n            this.dropHead(event.currentTarget);\r\n        }.bind(this));\r\n        this.head4.on('mousedown', function (event) {\r\n            this.dropHead(event.currentTarget);\r\n        }.bind(this));\r\n\r\n        // починаємо грати фонову музику в меню\r\n        this.menuMusic.play();\r\n    },\r\n\r\n    // функція повертає все на початок\r\n    startGame: function() {\r\n        // голови вниз\r\n        this.head1.y = 60;\r\n        this.head2.y = 60;\r\n        this.head3.y = 60;\r\n        this.head4.y = 60;\r\n\r\n        // рахунок в 0\r\n        this.score  = 0;\r\n        this.scoreLabel.string = 0;\r\n        // швидкість - початкова\r\n        this.speed = 2;\r\n\r\n        // ховаємо всі заставки і кнопку\r\n        this.logo.active = false;\r\n        this.gameover.active = false;\r\n        this.startButton.active = false;\r\n        this.isPlay = true;\r\n\r\n        // зупиняємо музику в меню\r\n        this.menuMusic.stop();\r\n        // запускаємо музику у грі\r\n        this.gameMusic.play();\r\n        // і почалося!\r\n    },\r\n\r\n    // викликається 30 разів в секунду  \r\n    update: function (dt) {\r\n        // якщо гра йде\r\n        if (this.isPlay == true) {\r\n            // беремо випадкове число від 1 до 4\r\n            var i = Math.floor(Math.random() * 4) + 1;\r\n            // викликаємо функцію рухання голови\r\n            this.moveHead(this[\"head\" + i]);\r\n            // збільшуємо швидкість\r\n            this.speed += 0.01;\r\n        }\r\n    },\r\n\r\n    // функція рухання голови\r\n    moveHead: function (head) {\r\n        // рухаємо по осі абсцис угору на величину speed\r\n        head.y = head.y + this.speed;\r\n        // якщо ми досягли краю\r\n        if (head.y > 700) {\r\n            // викликаємо функцію кінця гри\r\n            this.gameEnd();\r\n        }\r\n    },\r\n\r\n    // функція рухання голови\r\n    dropHead: function (head) {\r\n        // якщо гра йде\r\n        if (this.isPlay == true) {\r\n            // рухаємо по осі абсцис угору на величину speed\r\n            head.y = 60;\r\n            // збільшуємо рахунок на 1\r\n            this.score ++;\r\n            // і показуємо у тестовій мітці\r\n            this.scoreLabel.string = this.score;\r\n            // звук удару\r\n            this.kickSound.play();\r\n            // зойк\r\n            this.maleOhSound.play();\r\n        }\r\n    },\r\n\r\n    // функція програшу\r\n    gameEnd: function (head) {\r\n        // опускаємо прапорець ходу гри\r\n        this.isPlay = false;\r\n        // показуємо кнопку і заставку Game Over\r\n        this.startButton.active = true;\r\n        this.gameover.active = true;\r\n\r\n        // звук програшу    \r\n        this.gameOverSound.play();\r\n        // зупиняємо музику у грі\r\n        this.gameMusic.stop();\r\n        // запускаємо музику в меню\r\n        this.menuMusic.play();\r\n    }\r\n});\r\n"]}